# Ubuntu upstart file at /etc/init/mongodb.conf
 
limit nofile 64000 64000

kill timeout 30 # wait 30s between SIGTERM and SIGKILL.

pre-start script
<%= @dbpath ? "mkdir -p #{@dbpath}" : "" %>
<%= @logpath ? "mkdir -p #{@logpath}" : "" %>
end script

start on runlevel [2345]
stop on runlevel [06]

setuid mongodb

exec <%= @daemon ? "#{@daemon}" : "/usr/bin/mongod" %> --config /etc/mongodb.conf
